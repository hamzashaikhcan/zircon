(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2gy1":function(e,t,r){"use strict";r.r(t);var a=r("o0o1"),i=r.n(a),s=r("ta7f"),o=r("L2JU");function n(e,t,r,a,i,s,o){try{var n=e[s](o),c=n.value}catch(e){return void r(e)}n.done?t(c):Promise.resolve(c).then(a,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={data:function(){return{form:{email:"",code:""},loading:!1,resendLoading:!1}},validations:{form:{email:{required:s.required,email:s.email},code:{required:s.required}}},computed:{emailErrors:function(){var e=[];return this.$v.form.email.$dirty?(!this.$v.form.email.required&&e.push(this.$i18n.t("this_field_is_required")),!this.$v.form.email.email&&e.push(this.$i18n.t("this_field_is_required_a_valid_email")),e):e},codeErrors:function(){var e=[];return this.$v.form.code.$dirty?(!this.$v.form.code.required&&e.push(this.$i18n.t("this_field_is_required")),e):e}},methods:l(l(l(l(l({},Object(o.b)("auth",{actionLogin:"login"})),Object(o.d)("auth",["updateChatWindow","showLoginDialog"])),Object(o.b)("wishlist",["fetchWislistProducts"])),Object(o.b)("cart",["fetchCartProducts"])),{},{verifyAccount:function(){var e=this;return c(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,t.next=6,e.call_api("post","auth/verify",e.form);case 6:(r=t.sent).data.success?(e.actionLogin(r.data),e.showLoginDialog(!1),e.updateChatWindow(!1),e.fetchWislistProducts(),e.fetchCartProducts(),e.$router.push(e.$route.query.redirect||{name:"DashBoard"})):e.snack({message:r.data.message,color:"red"}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},resendCode:function(){var e=this;return c(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.form.email.$touch(),!e.$v.form.email.$anyError){t.next=3;break}return t.abrupt("return");case 3:return e.resendLoading=!0,t.next=6,e.call_api("post","auth/resend-code",e.form);case 6:(r=t.sent).data.success?e.snack({message:r.data.message}):e.snack({message:r.data.message,color:"red"}),e.resendLoading=!1;case 9:case"end":return t.stop()}}),t)})))()}}),created:function(){this.$route.params.email&&(this.form.email=this.$route.params.email)}},m=r("KHd+"),v=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",[r("v-row",[r("v-col",{staticClass:"mx-auto",attrs:{cols:"12",lg:"6",md:"8",sm:"10"}},[r("div",{staticClass:"my-5 my-lg-16 rounded-lg pa-5 border overflow-hidden shadow-light"},[r("div",{staticClass:"info--text mb-3"},[e._v("\n                        "+e._s(e.$t("a_verification_code_has_been_sent_to_your_email"))+"\n                    ")]),e._v(" "),r("h1",{staticClass:"text-uppercase lh-1 mb-4"},[r("span",{staticClass:"display-1 primary--text fw-900"},[e._v(e._s(e.$t("verify")))]),e._v(" "),r("span",{staticClass:"d-block display-1 fw-900 grey--text text--darken-3"},[e._v(e._s(e.$t("account")))])]),e._v(" "),r("div",{staticClass:"fs-16 fw-500 mb-6"},[e._v(e._s(e.$t("enter_your_email_address_verification_code")))]),e._v(" "),r("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.verifyAccount()}}},[r("div",{staticClass:"mb-4"},[r("div",{staticClass:"mb-1 fs-13 fw-500"},[e._v(e._s(e.$t("email")))]),e._v(" "),r("v-text-field",{attrs:{placeholder:e.$t("email_address"),type:"email","error-messages":e.emailErrors,"hide-details":"auto",required:"",outlined:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("div",{staticClass:"mb-4"},[r("div",{staticClass:"mb-1 fs-13 fw-500"},[e._v(e._s(e.$t("code")))]),e._v(" "),r("v-text-field",{attrs:{placeholder:e.$t("verification_code"),type:"text","error-messages":e.codeErrors,"hide-details":"auto",required:"",outlined:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),r("v-btn",{staticClass:"px-12 mb-4",attrs:{"x-large":"",elevation:"0",type:"submit",color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.verifyAccount}},[e._v(e._s(e.$t("verify")))]),e._v(" "),r("v-btn",{staticClass:"px-12 mb-4 ms-3",attrs:{"x-large":"",elevation:"0",type:"button",color:"",loading:e.resendLoading,disabled:e.resendLoading},on:{click:e.resendCode}},[e._v(e._s(e.$t("resend_code")))])],1)],1)])],1)],1)],1)}),[],!1,null,null,null);t.default=v.exports}}]);